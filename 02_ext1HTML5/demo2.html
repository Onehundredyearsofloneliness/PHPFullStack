<!DOCTYPE html>
<html>
<meta charset="utf-8" /> 
<body>
	<p id="demo">点击这个按钮，获得您的坐标：</p>
	<button onclick="getLocation()">试一下</button>
	<script>
		var x=document.getElementById("demo");
		function getLocation()
		{
			if (navigator.geolocation)
			{
				navigator.geolocation.getCurrentPosition(showPosition,showError);
			}
			else{x.innerHTML="Geolocation is not supported by this browser.";}
		}
		function showPosition(position)
		{
			x.innerHTML="Latitude: " + position.coords.latitude + 
			"<br />Longitude: " + position.coords.longitude;	
		}
		function showError(error)
		{
			switch(error.code) 
			{
				case error.PERMISSION_DENIED:   //Permission denied - 用户不允许地理定位
				x.innerHTML="User denied the request for Geolocation."
				break;
				case error.POSITION_UNAVAILABLE:  //Position unavailable - 无法获取当前位置
				x.innerHTML="Location information is unavailable."  
				break;
				case error.TIMEOUT:  // Position unavailable - 无法获取当前位置
				x.innerHTML="The request to get user location timed out."
				break;
				case error.UNKNOWN_ERROR: // 未知错误
				x.innerHTML="An unknown error occurred."
				break;
			}
		}
	</script>
</body>
</html>
